/*!
 * @license popup
 * (c) sugarshin
 * License: MIT
 */
(function(){"use strict";var t=function(t,e){return function(){return t.apply(e,arguments)}};!function(t,e){"object"==typeof module&&"object"==typeof module.exports?module.exports=e():t.Popup||(t.Popup=e())}(this,function(){var e;return e=function(){function e(e,n){this.el=e,this._onClick=t(this._onClick,this),this._configure(n),this.setURL(),this.setName(),this.setParam(),this.events()}var n,i;return n=function(){return window.addEventListener?function(t,e,n,i){return null==i&&(i=!1),t.addEventListener(e,n,i)}:function(t,e,n){return t.attachEvent("on"+e,function(){return n.call(t)})}}(),i=function(){return window.removeEventListener?function(t,e,n,i){return null==i&&(i=!1),t.removeEventListener(e,n,i)}:function(t,e,n){return t.detachEvent("on"+e,n)}}(),e.prototype._defaults={width:640,height:800,url:null,nameSuffix:"-popup"},e.prototype.setURL=function(){var t;return this._url=null!=(t=this.el.getAttribute("href"))?t:this.opts.url},e.prototype.setName=function(){return this._name=""+window.name+this.opts.nameSuffix},e.prototype.setParam=function(){var t,e,n,i,o,r;return i=null!=(n=this.el.getAttribute("data-popup-width"))?n:this.opts.width,e=null!=(t=this.el.getAttribute("data-popup-heigt"))?t:this.opts.height,o=(window.screen.width-i)/2,r=(window.screen.height-e)/2,this._param="screenX="+o+",screenY="+r+",left="+o+",top="+r+",width="+i+",height="+e+",toolbar=0,location=0,directories=0,status=0,menubar=0,scrollbars=yes"},e.prototype._configure=function(t){return this.opts=t||{},this.opts.width=this.opts.width||this._defaults.width,this.opts.height=this.opts.height||this._defaults.height,this.opts.url=this.opts.url||this._defaults.url,this.opts.nameSuffix=this.opts.nameSuffix||this._defaults.nameSuffix},e.prototype.open=function(){return window.open(this._url,this.opts.name,this._param),this},e.prototype._onClick=function(t){return"function"==typeof t.preventDefault&&t.preventDefault(),this.open()},e.prototype.events=function(){return n(this.el,"click",this._onClick),this},e.prototype.unbind=function(){return i(this.el,"click",this._onClick),this},e.open=function(t){return null!=t?new e(t).open():void 0},e}()})}).call(this);